<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="addressStyle.css">
  <link href="https://fonts.googleapis.com/css?family=Mansalva|ZCOOL+XiaoWei&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
 
  
  <title>Document</title>
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top" style="opacity: .9;">
      <a class="navbar-brand" href="index.html"><img src="assest/images/logonav.png" class ="logo">   </a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
    
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item active">
            <a class="nav-link" href="#">About Us <span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="#">How to Use</a>
          </li>
          
          <li class="nav-item">
            <button id = "btnLogOut"> Log Out </button>
          </li>


        </ul>
        
          
         
        </form>
      </div>
    </nav>
  <div class="jumbotron jumbotron-fluid">
    
    <div class="container">
       
      <div class="col-md-12">
      <h1 class="display-4"></h1>
        <img src="assest/images/logo.png" > 
        <p>Welcome to Let's meet, chat with your friends and find the perfect spot! </p>
      </div>
      
          
    </div>
  </div>
  </div>
  </div>
</head>

<body background = "assest/images/background.jpg">

   
  
  <div class="container" >
      <div class="form-group col-md-12" style="background:linear-gradient(to right,skyblue, black)">
          <h3 id="message" style="text-align: center;  ; color: papayawhip ;">Message Center</h3>
          <div  id="chatArea " rows="7"  style=" Background : aliceblue;" >
            
          </div>
        
      <div class="input-group ">
          <input type="text" class="form-control" placeholder="Say Hey!"  id="chatbox" aria-label="Recipient's username" aria-describedby="basic-addon2">
          <div class="input-group-append">
            <button class="btn btn-secondary" type="button" id="send"  style="margin-bottom: 25px;">Send Messaage</button>
          </div>
        </div>
      </div>





    <div class="row" style=" height:400px" >
      <div class="col-md-6 ">
            <style>
                    /* Always set the map height explicitly to define the size of the div
                     * element that contains the map. */
                    #map {
                      height: 100%;
                    }
                    /* Optional: Makes the sample page fill the window. */
                    html, body {
                      height: 100%;
                      margin: 0;
                      padding: 0;
                    }
                  </style>
                </head>
               

                    <div id="map"> </div>
                </div>
                  
                  


    <div class="col-md-6" style="background: aliceblue;margin-bottom: 100px; border-style:solid; border-width: 10px; border-color: blue;">
       
      <div id="floating-panel" style="margin-top: 55px; " >
            <strong>Start:</strong>
            <input type="text" id="start">
            <!-- <select id="start">
              <option value="chicago, il">Chicago</option>
              <option value="st louis, mo">St Louis</option>
              <option value="joplin, mo">Joplin, MO</option>
              <option value="oklahoma city, ok">Oklahoma City</option>
              <option value="amarillo, tx">Amarillo</option>
              <option value="gallup, nm">Gallup, NM</option>
              <option value="flagstaff, az">Flagstaff, AZ</option>
              <option value="winona, az">Winona</option>
              <option value="kingman, az">Kingman</option>
              <option value="barstow, ca">Barstow</option>
              <option value="san bernardino, ca">San Bernardino</option>
              <option value="los angeles, ca">Los Angeles</option>
            </select> -->
            <br>
            <strong>End:</strong>
            <input type="text" id="end">
            <!--Accept restaurant category-->
            <br>
            <strong>Category</strong>
            <!--<input type="text" id="end">-->
            <select id="category">
              <option value="lunch">Lunch</option>
              <option value="coffee">Coffee</option>
              <option value="dinner">Dinner</option>
            </select>
             <!-- <option value="joplin, mo">Joplin, MO</option>
              <option value="oklahoma city, ok">Oklahoma City</option>
              <option value="amarillo, tx">Amarillo</option>
              <option value="gallup, nm">Gallup, NM</option>
              <option value="flagstaff, az">Flagstaff, AZ</option>
              <option value="winona, az">Winona</option>
              <option value="kingman, az">Kingman</option>
              <option value="barstow, ca">Barstow</option>
              <option value="san bernardino, ca">San Bernardino</option>
              <option va lue="los angeles, ca">Los Angeles</option>-->
            
            <button id="get-directions">Go!</button>
          </div>
          <div id="right-panel">
            
          </div>
          <input id="inputTest"></input>
      
          <button type="button" class="btn btn-primary" id = "findLocation">Find Location</button>

        </div>
  </div>
</div>

</div> 





<script src="app.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCM2ChWHyTWpo5OJQFdiI-4tLDFUugVc7Q&callback=initMap&libraries=places, geometry"

async defer></script>


<script src="https://maps.googleapis.com/maps/api/geocode/json?address=77064&key=AIzaSyCM2ChWHyTWpo5OJQFdiI-4tLDFUugVc7Q"></script>



<!--   Chat Firebase          -->

<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/7.3.0/firebase-app.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="https://www.gstatic.com/firebasejs/7.3.0/firebase-analytics.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.3.0/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.3.0/firebase-auth.js"></script>



<script>
  // Your web app's Firebase configuration
  let firebaseConfig = {
    apiKey: "AIzaSyCr8NJ39kbBjwpyrP2CF2dJutZJV7YLxA0",
    authDomain: "test-8ce30.firebaseapp.com",
    databaseURL: "https://test-8ce30.firebaseio.com",
    projectId: "test-8ce30",
    storageBucket: "test-8ce30.appspot.com",
    messagingSenderId: "90944581488",
    appId: "1:90944581488:web:b2333a4c6608efbcc269b5",
    measurementId: "G-DVPWG9ER12"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  firebase.analytics();
  const database = firebase.database();
  
  
$("#btnLogOut").on('click', e=>{
  firebase.auth().signOut();
  console.log('logged out')
})
firebase.auth().onAuthStateChanged(user=>{ 
  if(user){
    console.log(user.displayName)
  } else{
    window.location = 'index.html'
  }
})
  let chat = "";
  let chatlog = 0; 
  $("#send").on("click", function(event) {
    
    
    // prevent form from trying to submit/refresh the page
    event.preventDefault();
    
    let chat = $("#chatbox").val().trim()
    // Capture User Inputs and store them into variables
    console.log(chat)
    let chatp = $("<p>");
      chatp.attr("id", "item-" + chatlog);
      chatp.text(chat);
   
      // $('#chatArea').append(chatp);
    // Console log each of the user inputs to confirm we are receiving them
    
    
      chatlog ++;
    // Output all of the new information into the relevant HTML sections
   
    database.ref().push({
   chat
  });
 
  });
  
  $('#chatbox').text("");
  database.ref().on("child_added", function(snapshot) {
// Print the initial data to the console.
console.log(snapshot.val());
// Log the value of the various properties
console.log(snapshot.val().chat);
// Change the HTML
// $('#chatArea').text(snapshot.val().chat);
let newRow = $('<p>')
  let chat = $('<p>').text(snapshot.val().chat)
  
  $("#chatArea").append(chat)
// If any errors are experienced, log them to console.
}, function(errorObject) {
console.log("The read failed: " + errorObject.code);
});



</script>

</body>
</html>